# Migration `20200419225909-try-migrate`

This migration has been generated by Johannes Birkenstock at 4/19/2020, 10:59:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `prisma`.`address` (
    `city` varchar(191)   ,
    `country` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `nationId` int  ,
    `phone` varchar(191)   ,
    `phone2` varchar(191)   ,
    `state` varchar(191)   ,
    `street` varchar(191)   ,
    `userId` int  ,
    `zip` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`applicationAdminNote` (
    `authorId` int  ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `modified` datetime(3)   ,
    `note` varchar(191)   ,
    `schoolApplicationId` int NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`applicationAnswer` (
    `answer` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `question` varchar(191)   ,
    `schoolApplicationId` int  ,
    `staffApplicationId` int  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`applicationHistory` (
    `action` varchar(191)   ,
    `applicationId` int NOT NULL ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `error` varchar(191)   ,
    `field` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `statusNum` varchar(191)   ,
    `value` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`applicationQuestion` (
    `id` int NOT NULL  AUTO_INCREMENT,
    `question` varchar(191)   ,
    `questionCollectionId` int NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`applicationQuestionCollection` (
    `description` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `name` varchar(191) NOT NULL  ,
    `type` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`attachments` (
    `created` varchar(191)   ,
    `downloadCount` varchar(191)   ,
    `ext` varchar(191)   ,
    `file` varchar(191)   ,
    `height` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `modified` varchar(191)   ,
    `name` varchar(191)   ,
    `schoolId` int  ,
    `size` varchar(191)   ,
    `teaching` varchar(191)   ,
    `type` varchar(191)   ,
    `userId` int  ,
    `width` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`child` (
    `birthday` varchar(191)   ,
    `gender` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `name` varchar(191)   ,
    `user` int NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`email` (
    `allStaff` boolean NOT NULL  ,
    `application` int  ,
    `contents` varchar(191)   ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `group` int   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `modified` datetime(3)   ,
    `schoolId` int  ,
    `sendAt` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `sentDate` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `subject` varchar(191)   ,
    `to` varchar(191)   ,
    `type` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`nation` (
    `deuVisa` boolean NOT NULL  ,
    `deuVisaBefore` boolean NOT NULL  ,
    `extraQ` int NOT NULL  ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `iso2` varchar(191) NOT NULL  ,
    `iso3` varchar(191) NOT NULL  ,
    `nameDeu` varchar(191)   ,
    `nameEn` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`passport` (
    `authority` varchar(191)   ,
    `birthCity` varchar(191)   ,
    `expire` datetime(3)   ,
    `firstName` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `issue` datetime(3)   ,
    `lastName` varchar(191)   ,
    `middleName` varchar(191) NOT NULL  ,
    `nationId` int  ,
    `number` varchar(191)   ,
    `userId` int  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`permissions` (
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `description` varchar(191) NOT NULL  ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `modified` datetime(3)   ,
    `name` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`reference` (
    `ambition` int NOT NULL  ,
    `application` int NOT NULL ,
    `christian` varchar(191) NOT NULL  ,
    `churchLife` varchar(191) NOT NULL  ,
    `communication` int NOT NULL  ,
    `conflict` varchar(191) NOT NULL  ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `email` varchar(191) NOT NULL  ,
    `emailBy` int NOT NULL  ,
    `emailDate` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `emotion` int NOT NULL  ,
    `family` varchar(191) NOT NULL  ,
    `forAdventure` boolean NOT NULL  ,
    `formIn` boolean NOT NULL  ,
    `getEquipped` boolean NOT NULL  ,
    `getHelp` boolean NOT NULL  ,
    `hash` varchar(191) NOT NULL  ,
    `howWell` varchar(191) NOT NULL  ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `initiative` int NOT NULL  ,
    `ipAddress` varchar(191) NOT NULL  ,
    `lang` varchar(191) NOT NULL  ,
    `leadership` int NOT NULL  ,
    `modified` datetime(3)   ,
    `moral` int NOT NULL  ,
    `name` varchar(191) NOT NULL  ,
    `organization` int NOT NULL  ,
    `other` varchar(191) NOT NULL  ,
    `phone` varchar(191) NOT NULL  ,
    `punctual` int NOT NULL  ,
    `received` int NOT NULL  ,
    `receivedDate` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `refNum` int NOT NULL  ,
    `relation` varchar(191) NOT NULL  ,
    `reliable` int NOT NULL  ,
    `selfDis` int NOT NULL  ,
    `servanthood` int NOT NULL  ,
    `status` int NOT NULL  ,
    `strengths` varchar(191) NOT NULL  ,
    `support` varchar(191) NOT NULL  ,
    `teachability` int NOT NULL  ,
    `teamwork` int NOT NULL  ,
    `toEscape` boolean NOT NULL  ,
    `toGrow` boolean NOT NULL  ,
    `userGivenRelation` varchar(191) NOT NULL  ,
    `weakness` varchar(191) NOT NULL  ,
    `whySchool` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`school` (
    `accountingName` varchar(191)   ,
    `acronym` varchar(191)   ,
    `applicationFee` Decimal(65,30) NOT NULL DEFAULT 0 ,
    `applicationQuestionsId` int  ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `currency` varchar(191)   ,
    `description` varchar(191)   ,
    `endDate` datetime(3)   ,
    `foodDayStudent` Decimal(65,30) NOT NULL DEFAULT 0 ,
    `hashtag` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `miniOutreachEndDate` datetime(3)   ,
    `miniOutreachFee` Decimal(65,30) NOT NULL DEFAULT 0 ,
    `miniOutreachStartDate` datetime(3)   ,
    `modified` datetime(3)   ,
    `name` varchar(191)   ,
    `online` boolean  DEFAULT true ,
    `outreachEndDate` datetime(3)   ,
    `outreachFee` Decimal(65,30) NOT NULL DEFAULT 0 ,
    `outreachStartDate` datetime(3)   ,
    `schoolEmail` varchar(191)   ,
    `schoolFee` Decimal(65,30) NOT NULL DEFAULT 0 ,
    `secondary` boolean   ,
    `startDate` datetime(3)   ,
    `travelNotice` varchar(191)   ,
    `url` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`schoolApplication` (
    `accepted` boolean  DEFAULT false ,
    `acceptedDate` datetime(3)   ,
    `adminNotes` varchar(191)   ,
    `arrivedDate` datetime(3)   ,
    `canceledDate` datetime(3)   ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `inReviewDate` datetime(3)   ,
    `packetSent` boolean  DEFAULT false ,
    `postcardSent` boolean  DEFAULT false ,
    `progress` varchar(191)   ,
    `retiredDate` datetime(3)   ,
    `schoolId` int NOT NULL ,
    `status` varchar(191)   ,
    `submitDate` datetime(3)   ,
    `transferredFromSchool` int   ,
    `userId` int NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`staff` (
    `admin` boolean  DEFAULT false ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `name` varchar(191)   ,
    `schoolId` int NOT NULL ,
    `userId` int  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`staffApplication` (
    `accepted` varchar(191)   ,
    `acceptedDate` datetime(3)   ,
    `arrivedDate` datetime(3)   ,
    `canceledDate` datetime(3)   ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `inReviewDate` datetime(3)   ,
    `packetSent` varchar(191)   ,
    `postcardSent` varchar(191)   ,
    `progress` varchar(191)   ,
    `retiredDate` datetime(3)   ,
    `status` varchar(191)   ,
    `submitDate` datetime(3)   ,
    `type` varchar(191)   ,
    `userId` int NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`student` (
    `arrived` boolean   ,
    `canceled` boolean   ,
    `graduated` boolean   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `name` varchar(191)   ,
    `schoolId` int NOT NULL ,
    `userId` int  ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`user` (
    `avatarSetNum` int   ,
    `birthday` datetime(3)   ,
    `created` datetime  DEFAULT CURRENT_TIMESTAMP ,
    `email` varchar(191)   ,
    `emailActivated` boolean  DEFAULT false ,
    `firstName` varchar(191)   ,
    `fullName` varchar(191)   ,
    `gender` varchar(191)   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `ipAddress` varchar(191)   ,
    `lastLogDate` datetime(3)   ,
    `lastName` varchar(191)   ,
    `modified` datetime(3)   ,
    `password` varchar(191)   ,
    `role` int  DEFAULT 0 ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`userInformation` (
    `children` int   ,
    `emContactId` int  ,
    `emRelation` varchar(191)   ,
    `eyeColor` varchar(191)   ,
    `facebook` varchar(191)   ,
    `firstLanguage` varchar(191)   ,
    `glutenAllergy` boolean NOT NULL DEFAULT false ,
    `health` varchar(191)   ,
    `height` int   ,
    `id` int NOT NULL  AUTO_INCREMENT,
    `lactoseAllergy` boolean NOT NULL DEFAULT false ,
    `life` varchar(191)   ,
    `maritalStatusDate` datetime(3)   ,
    `marriage` varchar(191)   ,
    `meds` varchar(191)   ,
    `modified` datetime(3)   ,
    `moldAllergy` boolean NOT NULL DEFAULT false ,
    `nativeLanguage` varchar(191)   ,
    `onMedication` boolean NOT NULL DEFAULT false ,
    `otherFoodAllergy` varchar(191)   ,
    `otherLanguage` varchar(191)   ,
    `otherLanguagePro` int   ,
    `physicalDisability` boolean NOT NULL DEFAULT false ,
    `secondLanguage` varchar(191)   ,
    `secondLanguagePro` int   ,
    `shots` varchar(191)   ,
    `spouseName` varchar(191)   ,
    `talents` varchar(191)   ,
    `thirdLanguage` varchar(191)   ,
    `thirdLanguagePro` int   ,
    `userId` int NOT NULL ,
    `website` varchar(191)   ,
    `youtube` varchar(191)   ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE  INDEX `nation` ON `prisma`.`address`(`nationId`)

CREATE  INDEX `user` ON `prisma`.`address`(`userId`)

CREATE  INDEX `application` ON `prisma`.`applicationAdminNote`(`schoolApplicationId`)

CREATE  INDEX `author` ON `prisma`.`applicationAdminNote`(`authorId`)

CREATE  INDEX `schoolApplication` ON `prisma`.`applicationAnswer`(`schoolApplicationId`)

CREATE  INDEX `staffApplication` ON `prisma`.`applicationAnswer`(`staffApplicationId`)

CREATE  INDEX `application` ON `prisma`.`applicationHistory`(`applicationId`)

CREATE  INDEX `questionCollection` ON `prisma`.`applicationQuestion`(`questionCollectionId`)

CREATE  INDEX `school` ON `prisma`.`attachments`(`schoolId`)

CREATE  INDEX `user` ON `prisma`.`attachments`(`userId`)

CREATE  INDEX `user` ON `prisma`.`child`(`user`)

CREATE  INDEX `application` ON `prisma`.`email`(`application`)

CREATE  INDEX `school` ON `prisma`.`email`(`schoolId`)

CREATE  INDEX `nation` ON `prisma`.`passport`(`nationId`)

CREATE  INDEX `user` ON `prisma`.`passport`(`userId`)

CREATE  INDEX `application` ON `prisma`.`reference`(`application`)

CREATE  INDEX `applicationQuestions` ON `prisma`.`school`(`applicationQuestionsId`)

CREATE  INDEX `school` ON `prisma`.`schoolApplication`(`schoolId`)

CREATE  INDEX `user` ON `prisma`.`schoolApplication`(`userId`)

CREATE  INDEX `school` ON `prisma`.`staff`(`schoolId`)

CREATE  INDEX `user` ON `prisma`.`staff`(`userId`)

CREATE  INDEX `user` ON `prisma`.`staffApplication`(`userId`)

CREATE  INDEX `schoolId` ON `prisma`.`student`(`schoolId`)

CREATE  INDEX `userId` ON `prisma`.`student`(`userId`)

CREATE UNIQUE INDEX `userInformation.userId` ON `prisma`.`userInformation`(`userId`)

ALTER TABLE `prisma`.`address` ADD FOREIGN KEY (`nationId`) REFERENCES `prisma`.`nation`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`address` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationAdminNote` ADD FOREIGN KEY (`schoolApplicationId`) REFERENCES `prisma`.`schoolApplication`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationAdminNote` ADD FOREIGN KEY (`authorId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationAnswer` ADD FOREIGN KEY (`schoolApplicationId`) REFERENCES `prisma`.`schoolApplication`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationAnswer` ADD FOREIGN KEY (`staffApplicationId`) REFERENCES `prisma`.`staffApplication`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationHistory` ADD FOREIGN KEY (`applicationId`) REFERENCES `prisma`.`schoolApplication`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`applicationQuestion` ADD FOREIGN KEY (`questionCollectionId`) REFERENCES `prisma`.`applicationQuestionCollection`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`attachments` ADD FOREIGN KEY (`schoolId`) REFERENCES `prisma`.`school`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`attachments` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`child` ADD FOREIGN KEY (`user`) REFERENCES `prisma`.`user`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`email` ADD FOREIGN KEY (`application`) REFERENCES `prisma`.`schoolApplication`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`email` ADD FOREIGN KEY (`schoolId`) REFERENCES `prisma`.`school`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`passport` ADD FOREIGN KEY (`nationId`) REFERENCES `prisma`.`nation`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`passport` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`reference` ADD FOREIGN KEY (`application`) REFERENCES `prisma`.`schoolApplication`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`school` ADD FOREIGN KEY (`applicationQuestionsId`) REFERENCES `prisma`.`applicationQuestionCollection`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`schoolApplication` ADD FOREIGN KEY (`schoolId`) REFERENCES `prisma`.`school`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`schoolApplication` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`staff` ADD FOREIGN KEY (`schoolId`) REFERENCES `prisma`.`school`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`staff` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`staffApplication` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`student` ADD FOREIGN KEY (`schoolId`) REFERENCES `prisma`.`school`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `prisma`.`student` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`userInformation` ADD FOREIGN KEY (`emContactId`) REFERENCES `prisma`.`address`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `prisma`.`userInformation` ADD FOREIGN KEY (`userId`) REFERENCES `prisma`.`user`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

DROP TABLE `prisma`.`_migration`;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200419225909-try-migrate
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,415 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "mysql"
+  url      = env("DB_URL")
+}
+
+model address {
+  city     String?
+  country  String?
+  id       Int     @default(autoincrement()) @id
+  nationId Int?
+  phone    String?
+  phone2   String?
+  state    String?
+  street   String?
+  userId   Int?
+  zip      String?
+  nation   nation? @relation(fields: [nationId], references: [id])
+  user     user?   @relation(fields: [userId], references: [id])
+
+  @@index([nationId], name: "nation")
+  @@index([userId], name: "user")
+}
+
+model applicationAdminNote {
+  schoolApplicationId Int
+  authorId            Int?
+  created             DateTime?         @default(now())
+  id                  Int               @default(autoincrement()) @id
+  modified            DateTime?
+  note                String?
+  schoolApplication   schoolApplication @relation(fields: [schoolApplicationId], references: [id])
+  author              user?             @relation(fields: [authorId], references: [id])
+
+  @@index([schoolApplicationId], name: "application")
+  @@index([authorId], name: "author")
+}
+
+model applicationAnswer {
+  answer              String?
+  schoolApplicationId Int?
+  staffApplicationId  Int?
+  id                  Int                @default(autoincrement()) @id
+  question            String?
+  schoolApplication   schoolApplication? @relation(fields: [schoolApplicationId], references: [id])
+  staffApplication    staffApplication?  @relation(fields: [staffApplicationId], references: [id])
+
+  @@index([schoolApplicationId], name: "schoolApplication")
+  @@index([staffApplicationId], name: "staffApplication")
+}
+
+model applicationHistory {
+  action        String?
+  applicationId Int
+  created       DateTime?         @default(now())
+  error         String?
+  field         String?
+  id            Int               @default(autoincrement()) @id
+  statusNum     String?
+  value         String?
+  application   schoolApplication @relation(fields: [applicationId], references: [id])
+
+  @@index([applicationId], name: "application")
+}
+
+model applicationQuestion {
+  id                   Int                           @default(autoincrement()) @id
+  question             String?
+  questionCollectionId Int
+  questionCollection   applicationQuestionCollection @relation(fields: [questionCollectionId], references: [id])
+
+  @@index([questionCollectionId], name: "questionCollection")
+}
+
+model applicationQuestionCollection {
+  description         String?
+  id                  Int                   @default(autoincrement()) @id
+  name                String
+  type                String?
+  applicationQuestion applicationQuestion[]
+  school              school[]
+}
+
+model attachments {
+  created       String?
+  downloadCount String?
+  ext           String?
+  file          String?
+  height        String?
+  id            Int     @default(autoincrement()) @id
+  modified      String?
+  name          String?
+  schoolId      Int?
+  size          String?
+  teaching      String?
+  type          String?
+  userId        Int?
+  width         String
+  school        school? @relation(fields: [schoolId], references: [id])
+  user          user?   @relation(fields: [userId], references: [id])
+
+  @@index([schoolId], name: "school")
+  @@index([userId], name: "user")
+}
+
+model child {
+  birthday String?
+  gender   String?
+  id       Int     @default(autoincrement()) @id
+  name     String?
+  user     Int
+  parent   user    @relation(fields: [user], references: [id])
+
+  @@index([user], name: "user")
+}
+
+model email {
+  allStaff          Boolean
+  application       Int?
+  contents          String?
+  created           DateTime?          @default(now())
+  group             Int?
+  id                Int                @default(autoincrement()) @id
+  modified          DateTime?
+  schoolId          Int?
+  sendAt            DateTime?          @default(now())
+  sentDate          DateTime?          @default(now())
+  subject           String?
+  to                String?
+  type              String
+  schoolApplication schoolApplication? @relation(fields: [application], references: [id])
+  school            school?            @relation(fields: [schoolId], references: [id])
+
+  @@index([application], name: "application")
+  @@index([schoolId], name: "school")
+}
+
+model nation {
+  deuVisa       Boolean
+  deuVisaBefore Boolean
+  extraQ        Int
+  id            Int        @default(autoincrement()) @id
+  iso2          String
+  iso3          String
+  nameDeu       String?
+  nameEn        String
+  address       address[]
+  passport      passport[]
+}
+
+model passport {
+  authority  String?
+  birthCity  String?
+  expire     DateTime?
+  firstName  String?
+  id         Int       @default(autoincrement()) @id
+  issue      DateTime?
+  lastName   String?
+  middleName String
+  nationId   Int?
+  number     String?
+  userId     Int?
+  nation     nation?   @relation(fields: [nationId], references: [id])
+  user       user?     @relation(fields: [userId], references: [id])
+
+  @@index([nationId], name: "nation")
+  @@index([userId], name: "user")
+}
+
+model permissions {
+  created     DateTime? @default(now())
+  description String
+  id          Int       @default(autoincrement()) @id
+  modified    DateTime?
+  name        String?
+}
+
+model reference {
+  ambition          Int
+  application       Int
+  christian         String
+  churchLife        String
+  communication     Int
+  conflict          String
+  created           DateTime?         @default(now())
+  email             String
+  emailBy           Int
+  emailDate         DateTime?         @default(now())
+  emotion           Int
+  family            String
+  forAdventure      Boolean
+  formIn            Boolean
+  getEquipped       Boolean
+  getHelp           Boolean
+  hash              String
+  howWell           String
+  id                Int               @default(autoincrement()) @id
+  initiative        Int
+  ipAddress         String
+  lang              String
+  leadership        Int
+  modified          DateTime?
+  moral             Int
+  name              String
+  organization      Int
+  other             String
+  phone             String
+  punctual          Int
+  received          Int
+  receivedDate      DateTime?         @default(now())
+  refNum            Int
+  relation          String
+  reliable          Int
+  selfDis           Int
+  servanthood       Int
+  status            Int
+  strengths         String
+  support           String
+  teachability      Int
+  teamwork          Int
+  toEscape          Boolean
+  toGrow            Boolean
+  userGivenRelation String
+  weakness          String
+  whySchool         String
+  schoolApplication schoolApplication @relation(fields: [application], references: [id])
+
+  @@index([application], name: "application")
+}
+
+model school {
+  accountingName         String?
+  acronym                String?
+  applicationFee         Float                          @default(0)
+  applicationQuestionsId Int?
+  created                DateTime?                      @default(now())
+  currency               String?
+  description            String?
+  endDate                DateTime?
+  foodDayStudent         Float                          @default(0)
+  hashtag                String?
+  id                     Int                            @default(autoincrement()) @id
+  miniOutreachEndDate    DateTime?
+  miniOutreachFee        Float                          @default(0)
+  miniOutreachStartDate  DateTime?
+  modified               DateTime?
+  name                   String?
+  online                 Boolean?                       @default(true)
+  outreachEndDate        DateTime?
+  outreachFee            Float                          @default(0)
+  outreachStartDate      DateTime?
+  schoolEmail            String?
+  schoolFee              Float                          @default(0)
+  secondary              Boolean?
+  startDate              DateTime?
+  travelNotice           String?
+  url                    String?
+  applicationQuestions   applicationQuestionCollection? @relation(fields: [applicationQuestionsId], references: [id])
+  attachments            attachments[]
+  email                  email[]
+  schoolApplication      schoolApplication[]
+  staff                  staff[]
+  student                student[]
+
+  @@index([applicationQuestionsId], name: "applicationQuestions")
+}
+
+model schoolApplication {
+  accepted              Boolean?               @default(false)
+  acceptedDate          DateTime?
+  adminNotes            String?
+  arrivedDate           DateTime?
+  canceledDate          DateTime?
+  created               DateTime?              @default(now())
+  id                    Int                    @default(autoincrement()) @id
+  inReviewDate          DateTime?
+  packetSent            Boolean?               @default(false)
+  postcardSent          Boolean?               @default(false)
+  progress              String?
+  retiredDate           DateTime?
+  schoolId              Int
+  status                String?
+  submitDate            DateTime?
+  transferredFromSchool Int?
+  userId                Int
+  school                school                 @relation(fields: [schoolId], references: [id])
+  user                  user                   @relation(fields: [userId], references: [id])
+  applicationAdminNote  applicationAdminNote[]
+  applicationAnswer     applicationAnswer[]
+  applicationHistory    applicationHistory[]
+  email                 email[]
+  reference             reference[]
+
+  @@index([schoolId], name: "school")
+  @@index([userId], name: "user")
+}
+
+model staff {
+  admin    Boolean? @default(false)
+  id       Int      @default(autoincrement()) @id
+  name     String?
+  schoolId Int
+  userId   Int?
+  school   school   @relation(fields: [schoolId], references: [id])
+  user     user?    @relation(fields: [userId], references: [id])
+
+  @@index([schoolId], name: "school")
+  @@index([userId], name: "user")
+}
+
+model staffApplication {
+  accepted          String?
+  acceptedDate      DateTime?
+  arrivedDate       DateTime?
+  canceledDate      DateTime?
+  created           DateTime?           @default(now())
+  id                Int                 @default(autoincrement()) @id
+  inReviewDate      DateTime?
+  packetSent        String?
+  postcardSent      String?
+  progress          String?
+  retiredDate       DateTime?
+  status            String?
+  submitDate        DateTime?
+  type              String?
+  userId            Int
+  user              user                @relation(fields: [userId], references: [id])
+  applicationAnswer applicationAnswer[]
+
+  @@index([userId], name: "user")
+}
+
+model student {
+  arrived   Boolean?
+  canceled  Boolean?
+  graduated Boolean?
+  id        Int      @default(autoincrement()) @id
+  name      String?
+  schoolId  Int
+  userId    Int?
+  school    school   @relation(fields: [schoolId], references: [id])
+  user      user?    @relation(fields: [userId], references: [id])
+
+  @@index([schoolId], name: "schoolId")
+  @@index([userId], name: "userId")
+}
+
+model user {
+  avatarSetNum         Int?
+  birthday             DateTime?
+  created              DateTime?              @default(now())
+  email                String?
+  emailActivated       Boolean?               @default(false)
+  firstName            String?
+  fullName             String?
+  gender               String?
+  id                   Int                    @default(autoincrement()) @id
+  ipAddress            String?
+  lastLogDate          DateTime?
+  lastName             String?
+  modified             DateTime?
+  password             String?
+  role                 Int?                   @default(0)
+  address              address[]
+  applicationAdminNote applicationAdminNote[]
+  attachments          attachments[]
+  child                child[]
+  passport             passport[]
+  schoolApplication    schoolApplication[]
+  staff                staff[]
+  staffApplication     staffApplication[]
+  student              student[]
+  userInformation      userInformation?
+}
+
+model userInformation {
+  children           Int?
+  emRelation         String?
+  emContactId        Int?
+  emContact          address?  @relation(fields: [emContactId], references: [id])
+  eyeColor           String?
+  facebook           String?
+  firstLanguage      String?
+  glutenAllergy      Boolean   @default(false)
+  health             String?
+  height             Int?
+  id                 Int       @default(autoincrement()) @id
+  lactoseAllergy     Boolean   @default(false)
+  life               String?
+  maritalStatusDate  DateTime?
+  marriage           String?
+  meds               String?
+  modified           DateTime?
+  moldAllergy        Boolean   @default(false)
+  nativeLanguage     String?
+  onMedication       Boolean   @default(false)
+  otherFoodAllergy   String?
+  otherLanguage      String?
+  otherLanguagePro   Int?
+  physicalDisability Boolean   @default(false)
+  userId             Int       @unique
+  secondLanguage     String?
+  secondLanguagePro  Int?
+  shots              String?
+  spouseName         String?
+  talents            String?
+  thirdLanguage      String?
+  thirdLanguagePro   Int?
+  website            String?
+  youtube            String?
+  user               user      @relation(fields: [userId], references: [id])
+}
```


